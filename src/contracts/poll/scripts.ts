import {
  applyParamsToScript,
  ScriptType,
  SpendingValidator,
} from '@lucid-evolution/lucid';
import {
  castPollManagerParams,
  PollManagerParams,
} from '../poll/types-poll-manager';
import {
  PollManagerParamsSP,
  PollShardParamsSP,
  fromSystemParamsAsset,
} from '../../types/system-params';
import { castPollShardParams, PollShardParams } from './types-poll-shard';

const pollManagerValidatorData = {
  type: 'PlutusV2' as ScriptType,
  description: 'Generated by Aiken',
  cborHex:
    '5926055926020100003232323232323232223232323232323232323232323232322322533301532323253330183014301a3754002264a666032602c60366ea805c4c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c94c8c8ccc0fcc0f00944cc8c8c8c88c8c94ccc128c1340084c8c8c8c94ccc138c1440084c8c8c94ccc134cc0a9240125476f7620696e707574206d75737420757365207468652072696768742072656465656d65720032323375e0046046660a86ea00312f5c064a66609e609800226464646464646464a6660b660bc0042646493182600118248018b182e000982e001182d000982d0011bae30580013058002375a60ac00260a46ea800854ccc13cc12c0044c8c94ccc154c16000852616375a60ac00260a46ea800854ccc13cc10800454ccc14cc148dd50010a4c2c2a66609e66e1d200600115333053305237540042930b0b18281baa00132533304e304b30503754002260a860a26ea800454cc13d24117436f756c64206e6f742066696e642072656465656d657200163232330010013756602a60a46ea80e4894ccc1500045300103d87a8000132323253330533375e00c60aa0062606e660b000297ae013300500500230550023058002305600130213305230323050375400897ae01533304d3302a49011d496e76616c696420696e707574206265696e672076616c696461746564003375e06a606460a06ea802054ccc134cc0a92401205468652070726f706f73616c20697320696e20766f74696e6720706572696f6400337106eb4c070c140dd501a0050a999826998152490f496e636f7272656374207054696d65003301e30233050375406e6603a66e04028dd6980e18281baa04c337000146eb4c070c140dd50260a9998269981524811b416c6c207368617264732073686f756c64206265206d657267656400533304d00614a2266e1cdd6981198281baa034375a602460a06ea80d054ccc134cc0a92401274f6e6c79206f776e65722063616e20636c6f73652061206e6f6e2d6578706972656420706f6c6c00533304d00614a226602206e6eb8c0bcc140dd501a0a999826a9998269998268032504a22002294054ccc134cc0a9240118496e636f72726563742055706772616465206f757470757400333330153758602c60a06ea80dcc084cc148c0c4cc148c084cc148c0a0c140dd502625eb80cc14930103d87a80004bd7025eb80c03ccc148c0c4cc148c0c8c140dd501a19829180b18281baa034330523750014660a4603860a06ea80d0cc148c14cc150c150c150c150c150c150c150c150c150c150c150c140dd501a19829180598281baa0344bd7025eb80c050c058c140dd502626103d87a800013302a4901394d757374206275726e203120706f6c6c20746f6b656e20616e64206d696e7420312075706461746520746f6b656e2069662073756363657373003010374c6602e60306028605e60a06ea8130c050c058c140dd50260a501533304d3302a4911e4d757374206275726e203120706f6c6c20746f6b656e206966206661696c003010374c60306028605e60a06ea81304cc0a9241294d7573742070617920494e4459206465706f73697420746f207472656173757279206966206661696c00333330153758602c60a06ea80dcc084cc148c0c4cc148c084cc148c08cc140dd502625eb80cc14930103d87a80004bd7025eb8130107d87b9fd87980ff0033024300b3050375409800e98103d87a800014a029405280a5014a029405281999911129991982899b89003001133710905046831bad303630543754a6660a2609c002298105d8799f00ff00132303633057375066e04dd6981b982a9baa3301130363305730373055375400a97ae03001303633057375066e00cdc019b800033370066e00cdc01980925ef6c601091b0000014198cbe00000010fa11b00000184e96633601a8eee93800000f330124bded8c1091b000001d4dd731000000113a11b00000184cfa667601b00000006b2b4d8000000f330124bded8c1091b00000049af14f980000113a11b0000018536a597601b000000011dcde4c00000f330124bded8c1091b00000f79f2ebd040000113a11b0000018bda182f601b00000007d082bcc00000f32330010014bd6f7b6309091b000001849c26cf600001091b0000004c65c629400081091b000001856a252f600001091b0000004c65c629400081091b0000018609ca53600001091b0000004c65c629400081091b0000018699fc63600001091b0000004c65c629400081091b0000018739a187600001091b0000004c65c629400081091b00000187d4204f600001091b0000004c65c629400081091b0000018873c573600001091b0000004c65c629400081091b000001890e443b600001091b0000004c65c629400081091b00000189ade95f600001091b0000004c65c629400081091b0000018a4d8e83600001091b0000004c65c629400081091b0000018ae80d4b600001091b0000004c65c629400081091b0000018b87b26f600001091b0000004c65c629400081091b0000018c223137600001091b0000004c65c629400081091b0000018cc1d65b600001091b0000004c65c629400081091b0000018d617b7f600001091b0000004c65c629400081091b0000018df6d3eb600001091b0000004c65c629400081091b0000018e96790f600001091b0000004c65c629400081091b0000018f30f7d7600001091b0000004c65c629400081091b0000018fd09cfb600001091b0000004c65c629400081091b000001906b1bc3600001091b0000004c65c629400081091b000001910ac0e7600001091b0000004c65c629400081091b00000191aa660b600001091b0000004c65c629400081091b0000019244e4d3600001091b0000004c65c629400081091b00000192e489f7600001091b0000004c65c629400011299982c0008a40002646464a6660ae66e20dd6982c80180a099b80001330050050021323253330593370e02c6eb4c16c008400452000375a60b600260ba0086eb4c164008c170008c1680040192f5c06eb4c0dcc154dd519808981b1982b981a182a9baa0054bd701800981b1982b9ba80024bd7025eb808c94ccc14cc140c154dd50008981b9982c182c982b1baa0014bd700b19299982999b88001480005300103d87a8000153330533371200290010981b9982c1ba80014bd700981b9982c1ba8323330010010023370660520049002111299982b19b89002001100213330030030013370666e00004cdc1802000a400897ae0337046eb4c0dcc154dd5000a410112f466e00dd6981a98299baa003375a606460a66ea800c5281bad3011304f3754096604e609e6ea80ccdd6982918299829982998299829982998299829982998299829982998279baa033375a6036609e6ea80094ccc12cc120c134dd50008991919191919191919191919299982d982f00109924c60980122c6eb4c170004c170008dd6982d000982d0011bad30580013058002375a60ac00260ac00460a800260a80046eb4c148004c138dd50008b1814180998269baa302c304d37540022c609e00266604e6eb0c0b4c12cdd5019181698259baa0474c103d8798000337106eb4c134c138c138c138c138c138c138c138c138c138c138c128dd501700219911998158011bae302d304b37540026eb8c0a8c12cdd50009bab302830493754605060926ea8004c010c124dd50228b18258009998119bac30293047375405c604c608e6ea810d300103d879800023049304a304a304a00122302733048375066e0ccdc11bad302830463754004904044bd1bad30283046375400297ae0223322533304433710002004200220046eb4c110008c8c8cc004004dd598238021129998248008a4000264a666094002264601066e08c070cdc199b81006375a609200200a6eb4c128004c1300084c8c8c8c8c8c94ccc130cdc4800805899b803370466e0ccdc080080180500119804804998288028020980699b8230213370666e0402c00c028008dd698268021bad304d004375a6096006609e006609a0046098004609800266e09200a48203c2c94894ccc100cdc4000a40002900008009bad30453042375405a26464a666082607a04e266446464a66609260980042646464a6660906604a9211d496e76616c696420696e707574206265696e672076616c696461746564003375e060605a60966ea801054ccc120cc0952401244d757374206d696e74206120706f6c6c546f6b656e20666f72206561636820736861726400300b374c6603e605460966ea811c00454ccc120cc09524010f496e636f7272656374207054696d650033019301e304b37540646603066e04018dd6980b98259baa0473370000c6eb4c05cc12cdd50238a99982419812a4812b43616e2774206372656174652073686172642061667465722070726f706f73696e6720656e642074696d65003371000c6eb4c038c12cdd50178a99982419812a49434e756d206f66206372656174656420736861726473202b206e756d206f66206e6577207368617264732073686f756c64206265203c3d2070546f74616c536861726473003371266e00dd6980398259baa02f001375a601a60966ea80bc54ccc120cc0952412041207368617264206f75747075742068617320696e76616c696420646174756d00323300100100322533304e00114a2264a6660966464a66609a6092609e6ea80084c8c8c8c8c8c94ccc14ccdc39bad3038305637540746eb4c16401854ccc14ccdc39bad3022305637540740042a6660a666ebc01130106d8799f0000ff0013375e002607060ac6ea8c0d4c158dd50078a5014a02940c160c164008dd6982b800982b801182a800982a80098281baa3053305037540042940c0f0004c0a4c050c138dd518288010998018018008a5030510011533304833025491354e657720506f6c6c4d616e61676572206f75747075742063616e206f6e6c79206368616e676520704372656174656453686172647300333330103758602260966ea80c8c070cc13400d2f5c060146609a60586609a6464646464646064660a660a800c660a660a800a660a660a8008660a660a8006660a660a8004660a660a8002660a66ea0cdc01bad300d3051375406a00e60aa60aa00260a800260a600260a400260a200260a000260966ea80bd2f5c097ae03756605460966ea8c0a8c12cdd5002260103d87980001330254901274f6e6c792070726f706f73616c2063726561746f722063616e2063726561746520736861726473003300c032375c605460966ea80bc5280a5014a029405280a5014a0600e0026604c6eb0c03cc124dd50181299982399baf302c304a3754002605666098603666098600c60946ea81192f5c066098980103d87a80004bd70099baf374c660466eacc0a4c128dd5000a44100374c601c605260946ea8118528181518241baa3027304837540022c60940026660446eb0c0a0c118dd5016981298231baa0424c103d879800023048304930493049304930493049001375a608e60886ea80bc4cc8c8c88c94ccc118c10cc120dd500089919191919191919299982719815a48116506f6c6c20746f6b656e206e6f742070726573656e74003302f3756606060a26ea8c0c0c144dd5004181818289baa04d1533304e3302b4912a4d757374206275726e206120706f6c6c546f6b656e20666f72206561636820736861726420696e707574003011374c6604a606060a26ea8134cdc0a40000082a66609c660569210f496e636f7272656374207054696d65003301f3024305137540706603c66e04028dd6980e98289baa04d337000146eb4c074c144dd50268a99982719815a4812943616e2774206d6572676520736861726473206265666f726520766f74696e6720656e642074696d6500337106eb4c074c144dd501a8050a99982719815a491e496e76616c6964206e657720506f6c6c4d616e61676572206f757470757400333330163758602e60a26ea80e0c088cc14c01d2f5c06020660a66064660a66464646464646070660b260b400c660b260b400a660b260b4008660b260b4006660b266022605e60ae6ea80ec020cc164c168008cc164c168004cc164dd419b80375a605460ae6ea80ec028c16cc16c004c168004c164c164004c160004c15c004c158004c144dd501aa5eb812f5c0660306eacc0c0c144dd5181818289baa0080014c0103d879800013302b49013043616e206f6e6c7920636f6e73756d65206e756d5368617264496e70757473202b203120706f6c6c206d616e61676572003370e601c00c604600829405280a5014a02940dd59828001182700099198008008019129998288008a5ef6c60106d8799f0000ff000101a00013322337606601860a200260a40046e98cc894ccc144c13800440084ccccc078009221003232002323300100100222533305800114984c94ccc164004526132325333057305430593754660626eb8c164c174010dd7182c8010998028029982e0010008a9982c249326b65797320696e206173736f63696174697665206c697374206172656e277420696e20617363656e64696e67206f726465720016305d002305b001305b0013305633760981014000375000297adef6c60222325333055302100114c103d87a8000130393305a374c00297ae03333302200148900004222325333058305500114c103d87a80001303c3305d375000297ae03370000200405c0566eacc148004ccc0c8dd5981898291baa30313052375460a200491010048810030530013300200230540013008001323300100100222533304f00114bd6f7b630099192999826982498279baa001133004004002133052323376060a800260a860aa0026eb0c14cc140dd5000998020020011919192999827982598289baa0021323253330513370e6eb4c15c008dd6981b182a1baa038130353305632374e660ae60a8002660ae60aa00297ae03376000a00297ae014c0103d87a8000305630570013052375460aa60a46ea8008530103d87a8000303e001302b301630503754605e60a06ea8004c148008c148004ccc09cdd6181698259baa032302a304b375408e98103d8798000302c304a3754605260946ea8004c130c124dd50008b19198008009bac302b3049375406044a666096002298103d87a80001323253330493375e605c60986ea80080c44c0b4cc1380092f5c0266008008002609e004609a002446052660946ea0cdc01bad302a304837540046eb4c0a8c120dd5000998251ba8337006eb4c09cc120dd50011bad30273048375400297ae030010012253330470011480004c060cc008008c128004dd6982398221baa02f30010012253330450011480004c058cc008008c120004dd2a40086ebcdd31980c9bab30183040375404e9101002232330010013758600860846ea800c894ccc110004528099299982099b8f375c608e00400829444cc00c00c004c11c0048c108c10cc10cc10cc10cc10cc10cc10cc10c0048c104c108c108c108c108c108c108c108c108c1080048ccc048dd7180f981e9baa001375c6038607a6ea800520022222232330010013301e006533303e303b3040375400a264466ebcc094c10cdd5181298219baa00100230443041375400a264466ebcc094c10cdd5000801182218209baa00522533304300114a0264a66608064a66608266ebcc028c110dd500080389929998230008a51153330463049001132323253330453371e6eb8c12c00d220100153330453371e002910100153330453042304737540122a66608a66e25200000213371200490404df7010a5013371290000010a5014a06eb8c128c12c008dd69824982518250009bac304800114a06466002002660186eacc090c114dd500118068039129998238008a5eb804c8ccc888c8cc00400400c894ccc134004400c4c8cc13cdd3998279ba90063304f37526eb8c130004cc13cdd41bad304d0014bd7019801801982880118278009bae30460013756608e00266006006609600460920022940c11800852889980180180098230009181f181f981f8009119199800800801801111299981f80108008991998020021821801999998048011bae303e0013756607e00244464a66608060180022980103d87a80001302433045374c00297ae03233300100100300222253330460021001132333004004304a00333333011002375c608a0026eb4c118004888c94ccc11cc1100045300103d87a80001302b3304c375000297ae03370000400203a609000402c60820044646600200200444a666078002297adef6c601323303e337606ea4dd7181d8009ba632330010013756607a00444a66607e002297adef6c6013233041337606ea4dd7181f0009ba83370290001bad303f0013300300330430023041001330030033040002303e0012533303900114a2294088888c8cc004004018894ccc0f80044cc0fccdd81ba9006374c00a97adef6c60132323232533303e30173300700a002133043337606ea4028dd30048028a99981f19b8f00a002132533303f303c3041375400226608866ec0dd4805982298211baa001004100433300800a009001133043337606ea4008dd3000998030030019bab3040003375c607c0046084004608000244444646600200200c44a66607a00226607c66ec0dd48031ba80054bd6f7b630099191919299981e980b1980380500109982119bb037520146ea002401454ccc0f4cdc7805001099299981f181d98201baa001133043337606ea402cc110c104dd5000802080219980400500480089982119bb037520046ea0004cc01801800cdd6981f8019bae303d0023041002303f001230383039303930393039303900122301633037301633037300633037375000497ae0330373330324a2980103d87a80004c0103d87980004bd701981b980b1981b98031981b9ba80014bd701981b9998192514c0103d87a80004c0103d87980004bd7025eb8088c8c94ccc0ccc94ccc0d0c09c0045288a99981a18180008a5114a0606a6ea8cc014c060c0d8dd5001180c181b1baa0011325333034303100114a22a66606860600022944528181a9baa33005301530363754004602a606c6ea8004528180280118020011119299981898170008a999818981718199baa00214c103d87a800014c103d879800015333031302400115333031302430333754004298103d87a800014c103d87b8000132325333033302f001132533303433710006002298103d879800015333034337100020062980103d87b800014c103d87a8000375a6072606c6ea801054ccc0ccc0c0004530103d87b800014c103d8798000303437540066eb4c0dcc0d0dd500198191baa002230123303332533302f302b30313754002264a66606064a66606a60680022a666062605a6066002294454ccc0c4c0b8c0cc0045280b0b1baa301230333754602a60666ea800c4c010cc0d4dd4000a5eb804c010cc0d4dd41802800a5eb80dd6981a98191baa0011001301330313754602660626ea8004cc0ccc94ccc0bcc0acc0c4dd5000899299981819299981a981a0008a999818981698198008a5115333031302e303300114a02c2c6ea8c048c0ccdd5180918199baa0031300433035375000297ae01300433035375066e0000520014bd701bad3035303237540022002602660626ea8c040c0c4dd5000a5eb80dd2a40046e01200223031303230323032303230323032303200122333003375c6020605c6ea8008dd7180698171baa002001222533302b302800114bd6f7b6300991919800800a5eb7bdb180894ccc0c80044cc0cccdd81ba9006374c00697adef6c601323232325333032300b3300c00a002133037337606ea4028dd30038028a99981919b8f00a002133037337606ea4028dd300380189981b99bb037520046e98004cc01801800cdd5981a0019bae30320023036002303400132330010014bd6f7b63011299981880089981919bb037520086ea000d2f5bded8c0264646464a66606260146601601000426606c66ec0dd48041ba8007005153330313371e01000426606c66ec0dd48041ba8007003133036337606ea4008dd4000998030030019bad3033003375c6062004606a00460660026ebd300103d879800022533302833720004002298103d8798000153330283371e0040022980103d87a800014c103d87b80002302c302d302d302d302d00122323300100100322533302c00114bd6f7b630099191919299981619b8f0070021003133031337606ea4008dd3000998030030019bab302e003375c60580046060004605c00244a66604a66604a002941288a998130010800880092999811980b18129baa00113029302637540022a66048921134e6f7420616e20696e6c696e6520646174756d0016222323300500423002300830293754002a6660486042604c6ea800448cc018dd5980398141baa001003123371090001998041bab3007302837540026eb8c028c0a0dd50019bae30073028375400644646600200200644a666050002297ae0132325333026300500213302b00233004004001133004004001302c002302a00122301d333004002375c600c60486ea8004dd7180198121baa001230253026001222325333021301d302337540022900009bad30273024375400264a666042603a60466ea8004530103d87a80001323300100137566050604a6ea8008894ccc09c004530103d87a8000132323253330263371e00e6eb8c0a000c4c028cc0acdd4000a5eb804cc014014008dd698140011815801181480099198008008021129998130008a6103d87a8000132323253330253371e00e6eb8c09c00c4c024cc0a8dd3000a5eb804cc014014008dd59813801181500118140009ba5480008c088004c070dd5004180f980e1baa01714a0603c60366ea800458c074c078008c070004c060dd50008a4c26cac64a666028602200226464a666034603a0042930b1bad301b001301737540042a666028602000226464a666034603a0042930b1bad301b001301737540042a666028600e00226464a666034603a0042930b1bad301b001301737540042c602a6ea8004c00403c8c94ccc048c03c0044c8c94ccc060c06c0084c926533301430113016375400226464646464646464646464646464646464646464646464646464a666064606a0042646464931810809981180a181000a8b1bad30330013033002375a606200260620046eb4c0bc004c0bc008dd6981680098168011bad302b001302b002375a605200260520046eb4c09c004c09c008dd6981280098128011811800981180118108009810801180f800980f8011bae301d001301d002375a6036002602e6ea80045858c064004c054dd50010a999809180700089919299980c180d80109924ca6660286022602c6ea80044c8c8c8c8c8c8c8c94ccc080c08c0084c8c9263016002300d0051630210013021002375a603e002603e004603a002603a0046eb4c06c004c05cdd50008b0b180c800980a9baa00216301337540024a666020601a60246ea80044c8c8c8c94ccc060c06c00852616375a603200260320046eb4c05c004c04cdd50008b119299980818068008991919191919191919191919191919191919191919191919299981618178010991919191919191919191924c6050016604e018604c01a604a01c604801e60460206044022604202460400266046028603e02a2c605a002605a0046056002605600460520026052004604e002604e004604a002604a0046046002604600460420026042004603e002603e004603a002603a00460360026036004603200260320046eb8c05c004c04cdd50010a99980818060008991919191919191919191919191919191919191919191919299981618178010991919191919191919191924c6050016604e018604c01a604a01c604801e6046020604402260420246040026604602864a666052604c00226464a66605e60640042649318108008b181800098161baa01615333029302500113232533302f3032002132498c08800458c0c0004c0b0dd500b0b18151baa01516302d001302d002302b001302b0023029001302900230270013027002302500130250023023001302300230210013021002301f001301f002301d001301d002301b001301b00230190013019002375c602e00260266ea800854ccc040c00c0044c8c94ccc058c0640084c9263007001163017001301337540042a66602066e1d200600113232533301630190021324994ccc048c03cc050dd5000899191919299980d180e80109924c6601c00246464a666032602c60366ea80044c8c94ccc07cc08800852616375c604000260386ea800458c06c008dd7180c8008b1bab301b001301b002375a6032002602a6ea80045858c05c004c04cdd50010a99980819b87480200044c8c94ccc058c06400852616375c602e00260266ea800858c044dd50009b87480108c94ccc038c02c0044c8c94ccc050c05c0084c9265333010300d30123754002264646464a66603060360042646493198068011299980b1809980c1baa001132323232323253330203023002149858dd6981080098108011bae301f001301f002375c603a00260326ea800458c03400c58dd6180c800980c801180b80098099baa00116163015001301137540042a66601c60140022a66602460226ea80085261616300f37540024a6660186012601c6ea80044c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c94ccc090c09c0084c926301600b16375a604a002604a0046eb4c08c004c08c008dd6981080098108011bad301f001301f002375a603a002603a004603600260360046eb4c064004c064008dd6980b800980b8011bad30150013015002375a6026002601e6ea80045894ccc02cc020c034dd5000899192999808980a0010a4c2c6eb4c048004c038dd50008b12999805180398061baa0011323253330103013002132498c01800458c044004c034dd50008b1119198008008019129998080008a4c264660060066028004600660240024a666010600a60146ea80044c8c8c8c94ccc040c04c0084c8c92632533300e300b0011323253330143017002132498c94ccc044c0380044c8c94ccc05cc0680084c926300e001163018001301437540042a666022601a0022646464646464a666036603c0042930b1bad301c001301c002375a603400260340046eb4c060004c050dd50010b18091baa001163015001301137540062a66601c60140022a66602460226ea800c5261616300f3754004600e0062c60220026022004601e00260166ea80045894ccc01cc010c024dd5000899191919299980798090010a4c2c6eb8c040004c040008dd7180700098051baa001162325333007300400113232533300d3010002149858dd7180700098051baa00215333007300300113232533300d3010002149858dd7180700098051baa00216300837540026e1d2002370e90002b9a5738aae7555cf2ab9f5740ae855d11',
};

export const mkPollManagerValidator = (
  params: PollManagerParams,
): SpendingValidator => {
  return {
    type: pollManagerValidatorData.type,
    script: applyParamsToScript(pollManagerValidatorData.cborHex, [
      castPollManagerParams(params),
    ]),
  };
};

export const mkPollManagerValidatorFromSP = (
  params: PollManagerParamsSP,
): SpendingValidator => {
  return {
    type: pollManagerValidatorData.type,
    script: applyParamsToScript(pollManagerValidatorData.cborHex, [
      castPollManagerParams({
        govNFT: fromSystemParamsAsset(params.govNFT),
        pollToken: fromSystemParamsAsset(params.pollToken),
        upgradeToken: fromSystemParamsAsset(params.upgradeToken),
        indyAsset: fromSystemParamsAsset(params.indyAsset),
        govExecuteValHash: params.govExecuteValHash,
        pBiasTime: BigInt(params.pBiasTime),
        shardValHash: params.shardsValHash,
        treasuryValHash: params.treasuryValHash,
        initialIndyDistribution: BigInt(params.initialIndyDistribution),
      }),
    ]),
  };
};

const pollShardValidatorData = {
  type: 'PlutusV2' as ScriptType,
  description: 'Generated by Aiken',
  cborHex:
    '59166859166501000032323232323232322232323232322322533300b323232533300e300830103754002264a66601e601260226ea80344c8c8c8c8c8c8c8c8c8c94c8ccc068c054c070dd50090999191919191919191911919299981518168010991919299981698180010992999815181218161baa00113232533303030330021323232533302f3301f4911d496e76616c696420696e707574206265696e672076616c696461746564003375e042602e60646ea802854ccc0bccc07d2401225468652070726f706f73616c206578636565647320766f74696e6720706572696f64003322325333032302c30343754002264a66606664a666070606e0022a666068605c606c002294454ccc0d0c0bcc0d80045280b0b1baa301c303637546038606c6ea80104cdc4000801899b89001003375a6070606a6ea8004528180c981a1baa301a30343754004602060646ea808cdd6980898191baa0201533302f3301f49011c54686520706f6c6c206f757470757420697320696e636f7272656374003333300e3758602260646ea808cc074cc0d00252f5c0602c66068603a6606864603e6606a606c0026606a64a666062605860666ea80384c080cc0d8dd419b80375a603260686ea800400cc0e0c0d0dd5000898101981b181b981a1baa00133036375066e00dd6980d181a1baa0010034bd70180c98199baa021303730370013032375404097ae04bd701bab301830323754603060646ea8029300103d87980001533302f3301f4910e4d697865642076657273696f6e73003375e602e60646ea8c05cc0c8dd5180c18191baa007301d33034301a3032375405c97ae01533302f3301f49127546865207472616e73616374696f6e206d757374206265207369676e6564206279206f776e6572003232330010013758606e6070607060706070607060706070607060686ea8094894ccc0d8004528099299981999b8f375c607200400829444cc00c00c004c0e4004dd7180b98191baa0041533302f3301f4911a5573657220766f74656420666f7220706f6c6c206265666f72650033302f3300d002375a602e60646ea8081282511533302f3301f491124d757374206d696e74206e6f20746f6b656e003375e6e98c8cc004004dd5981b181b981b981b981b98199baa02422533303500114bd6f7b630099191919299981a980a801080189981d19bb037520046e98004cc01801800cdd5981b8019bae3035002303900230370014c0101a0001533302f3301f491245374616b696e67506f736974696f6e206d757374207570646174652070726f7065726c79003333300e3758602260646ea808cc074cc0d0c078cc0d0c074cc0d0c068c0c8dd501725eb80cc0d130103d87a80004bd7025eb80c058cc0d0c074cc0d0c8c07ccc0d4c0d8004cc0d4dd319912999819198080028010991980080080311299981c0008a5eb7bdb1804cc0e4c8c94ccc0d8cdc3800803099bb0375000200a20046eb4c0dc004c0e8004cc008008c0ec0044c8c8cc00400401c894ccc0e4004400c4cc0e8c0ec004cc008008c0f0004cc0dccdd81ba80020014bd6f7b6301bad301830333754042603e6606a6ea0008cc0d4c048c0ccdd5010a5eb80c0dcc0dc004c0c8dd500225eb812f5c06eacc060c0c8dd5180c18191baa0074c0103d87a800013301f4901275374616b696e6720506f736974696f6e206d75737420757365204c6f636b2072656465656d65720032323375e004980103d87e8000325333031302c001132325333037303a002149858dd7181c000981a1baa00215333031302b00115333035303437540042930b0a99981898168008a99981a981a1baa00214985854ccc0c4cdc3a400c00226464a66606e60740042930b1bad3038001303437540042a66606266e1d200800115333035303437540042930b0a99981899b874802800454ccc0d4c0d0dd50010a4c2c2a66606266e1d200c00115333035303437540042930b0b18191baa0013301c30173032375400e6eacc06cc0c8dd50118a5014a029405280a5014a02940528199119980a8011bae3018303337540026eb8c064c0ccdd50009bab301730313754602e60626ea8018c040c0c4dd501699192999817981498189baa001132323300100100422533303600114bd6f7b63009919299981a19b88005375a60746076606e6ea8c0dc0084cc0e4008cc0100100044cc010010004c0e8008c0e0004dd6981a98191baa00116301630313754602c60626ea8c03cc0c4dd50111bab301630303754004a666058604e605c6ea80044c8c8c8c8c8c94ccc0d8c0e40084c8c9265333033302e3035375400426464a66607260780042930b1bad303a001303637540042c6605e00646464a66606a6060606e6ea80044c8c8c8c94ccc0f4c10000852616375a607c002607c0046eb4c0f0004c0e0dd50008b181b8011bad303500116303700130370023756606a002606a0046eb8c0cc004c0bcdd50008b0b181880098169baa0011632533302a3026302c375400226060605a6ea800454cc0ad241134e6f7420616e20696e6c696e6520646174756d0016300b302c3754602460586ea800458c0b8004ccc028dd6180798151baa01b3010302a375404c98103d8798000300e30293754601e60526ea800458c0ac004ccc01cdd6180618139baa018300c3027375404698103d8798000225333024301f30263754646600200200644a666054002298103d87a80001323253330283370e6eb4c0a80080144c05ccc0b4dd399816981500119816981580125eb812f5c0266008008002605c00460580022944528111111980819805002a999813181098141baa00413223375e602060566ea8c040c0acdd5000801181618149baa00413223375e602060566ea8004008c0b0c0a4dd50021299981399baf3009302a3754002008264a666058002294454ccc0b0c0bc0044c8c8c94ccc0acc02cdd718188018a99981598058008a999815981318169baa0061533302b337129000001099b89002482026fb808528099b89480000085280a50375c606060620046eb4c0bcc0c0c0c0004dd618170008a503233001001323330010013756602460586ea800cc8cc004004018894ccc0bc00452f5bded8c02646606266ec0dd49bae302e001374c64660020026eacc0c0008894ccc0c800452f5bded8c02646606866ec0dd49bae3031001375066e052000375a606400266006006606c00460680026600600660660046062002444a66605e004200226466600800860660066644646600200200a44a66606800226606a66ec0dd48021ba60034bd6f7b630099191919299981a19baf3301a0080024c0103d8798000133039337606ea4020dd30038028a99981a19b8f008002132533303530303037375400226607466ec0dd4804981d981c1baa0010041004325333035533303900114a229405300103d87a8000130243303a374c00297ae032333001001008002222533303b0021001132333004004303f00333223233001001005225333040001133041337606ea4010dd4001a5eb7bdb1804c8c8c8c94ccc100cdd799813004001260103d8798000133045337606ea4020dd40038028a99982019b8f0080021325333041303c3043375400226608c66ec0dd4804982398221baa0010041004325333041303c00114c103d87a80001303033046375000297ae03370000e00226608a66ec0dd48011ba800133006006003375a60840066eb8c100008c110008c108004dd7181d0009bad303b001303d002133039337606ea4008dd3000998030030019bab3036003375c60680046070004606c0026eb8c0b8004dd5981780098188011129998168008a5eb804c8ccc888c8cc00400400c894ccc0cc004400c4c8cc0d4dd39981a9ba90063303537526eb8c0c8004cc0d4dd41bad30330014bd7019801801981b801181a8009bae302c0013756605a002660060066062004605e0022940dc7a441002302630273027302730273027302730270012302530263026001222323300500423002300b30253754002a666040603660446ea800448c06cccc018dd5980518121baa001375c601260486ea800cdd7180518121baa003123371090001998031bab300a302437540026eb8c024c090dd50019bae300a3024375400644646600200200644a666048002297ae01323253330223005002133027002330040040011330040040013028002302600122232533301f3019302137540022900009bad30253022375400264a66603e603260426ea80045300103d87a8000132330010013756604c60466ea8008894ccc094004530103d87a8000132323253330243371e00e6eb8c09800c4c04ccc0a4dd4000a5eb804cc014014008dd698130011814801181380099198008008021129998120008a6103d87a8000132323253330233371e00e6eb8c09400c4c048cc0a0dd3000a5eb804cc014014008dd598128011814001181300091299980e19b9000200114c0103d87980001533301c3371e0040022980103d87a800014c103d87b80003020301d375402426466446601a9213953686f756c642063616c6c206120506f6c6c4d616e6167657220696e7075742077697468204d657267655368617264732072656465656d6572003232533301f3375e004600c660486ea00112f5c02660126eb0c01cc088dd50099299981019baf004300830233754002266ebcc020c08cdd5180498119baa001300b30233754022294052819299980f980d00089919299981298140010a4c2c6eb4c098004c088dd50010a99980f980c80089919299981298140010a4c2c6eb4c098004c088dd50010a99980f980d80089919299981298140010a4c2c6eb4c098004c088dd50010b18101baa0013300a0013756601260406ea8044dd6981080098109811000980e9baa012374a90021180f8009180f180f80091191980080080191299980f0008a50132533301b3004302100214a2266006006002604200246038603a603a603a002460366038603860386038603860386038603860380024464a66602c602260306ea80044c070c064dd50008a9980ba48117436f756c64206e6f742066696e642072656465656d6572001632323300100100322533301c00114c0103d87a80001323232533301b3375e00c603a006260146604000297ae0133005005002301d0023020002301e00130033301a0024bd701ba548008dd2a400044a666024666024002941288a9980980108008800980a98091baa00d14a0602860226ea800458c04cc050008c048004c038dd50008a4c26cac64a666014600a00226464a66602060260042649319299980698040008a99980898081baa00214985854ccc034c01c00454ccc044c040dd50010a4c2c2c601c6ea800458c044004c034dd50010a99980518020008991919192999809180a80109924ca66601c601260206ea80044c8c8c8c94ccc058c0640084c9265333012300d3014375400626464a66603060360042930b1bae3019001301537540062c2c6eb4c05c004c05c008c054004c044dd50008b0b180980098098011bad3011001300d37540042c60166ea8004c8c8c8c8c8c8c94ccc038c0240044c8c94ccc050c05c0084c9265333010300b3012375400226464646464646464646464646464646464646464646464646464a66605c606200426464649318100099929998161813800899192999819181a80109924ca66605c605260606ea80044c8c8c8c94ccc0d8c0e40084c8c9263303000225333034302f303637540022646464646464a66607c60820042930b1bad303f001303f002375c607a002607a0046eb8c0ec004c0dcdd50008b18148018b1bac303700130370023035001303137540022c2c6066002605e6ea805454ccc0b0c09800454ccc0c0c0bcdd500a8a4c2c2c605a6ea8050c94ccc0acc0980044c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c94ccc11cc1280084c8c8c8c8c8c8c8c8c8c8c926304200b304100c304000d303f00e303e00f303d010303c011303b012303a013303c0143039015163048001304800230460013046002304400130440023042001304200230400013040002303e001303e002303c001303c002303a001303a002303800130380023036001303600230340013034002375c6064002605c6ea805854ccc0acc0940044c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c8c94ccc11cc1280084c8c8c8c8c8c8c8c8c8c8c926304200b304100c304000d303f00e303e00f303d010303c011303b012303a013303c014325333044303f00113232533304a304d002132498c0ec00458c12c004c11cdd500b0a999822181f000899192999825182680109924c60780022c6096002608e6ea805858c114dd500a8b1824000982400118230009823001182200098220011821000982100118200009820001181f000981f001181e000981e001181d000981d001181c000981c001181b000981b001181a000981a0011bae3032001302e375402c2a666056604e00226464a6660626068004264932999816981418179baa0011323232323232323232323232323232323232323253330453048002132498c0d802c58dd6982300098230011bad30440013044002375a608400260840046eb4c100004c100008dd6981f000981f001181e000981e0011bad303a001303a002375a607000260700046eb4c0d8004c0d8008dd6981a00098181baa00116163032001302e375402c2a66605666e1d200600113232533303130340021324994ccc0b4c0a0c0bcdd5000899191919299981a981c00109924c6605c00246464a666068605e606c6ea80044c8c94ccc0e8c0f400852616375c6076002606e6ea800458c0d8008dd7181a0008b1bab30360013036002375a606800260606ea80045858c0c8004c0b8dd500b0a99981599b87480200044c8c94ccc0c4c0d000852616375c6064002605c6ea805858c0b0dd500a8b1bad302f001302f002375a605a002605a0046eb4c0ac004c0ac008dd6981480098148011bad30270013027002375a604a002604a0046eb4c08c004c08c008dd698108009810801180f800980f801180e800980e801180d800980d8011bae30190013019002375a602e00260266ea80045858c054004c044dd50060a999807180400089919299980a180b80109924ca666020601660246ea80044c8c8c8c8c8c8c8c94ccc070c07c0084c8c9263010002300c00516301d001301d002375a60360026036004603200260320046eb4c05c004c04cdd50008b0b180a80098089baa00c16300f37540164a66601a6010601e6ea80044c8c8c8c94ccc054c06000852616375a602c002602c0046eb4c050004c040dd50008b12999806180398071baa0011323253330123015002149858dd6980980098079baa001162533300b3006300d375400226464a66602260280042649318028008b180900098071baa001162533300a3005300c3754002264646464a666024602a0042646493192999808180580089919299980b180c80109924c64a666026601c00226464a66603260380042649318070008b180d000980b1baa00215333013300d0011323232323232533301d3020002149858dd6980f000980f0011bad301c001301c002375a6034002602c6ea800858c050dd50008b180b80098099baa00315333010300a00115333014301337540062930b0b18089baa002300700316301300130130023011001300d37540022c4a666012600860166ea80044c8c8c8c94ccc044c05000852616375c602400260240046eb8c040004c030dd50008b1192999804980200089919299980798090010a4c2c6eb8c040004c030dd50010a999804980180089919299980798090010a4c2c6eb8c040004c030dd50010b18051baa001370e90011b8748000dc3a400844646600200200644a66601600229309919801801980780118019806800ab9a5738aae7555cf2ab9f5740ae855d11',
};

export const mkPollShardValidator = (
  params: PollShardParams,
): SpendingValidator => {
  return {
    type: pollShardValidatorData.type,
    script: applyParamsToScript(pollShardValidatorData.cborHex, [
      castPollShardParams(params),
    ]),
  };
};

export const mkPollShardValidatorFromSP = (
  params: PollShardParamsSP,
): SpendingValidator => {
  return {
    type: pollShardValidatorData.type,
    script: applyParamsToScript(pollShardValidatorData.cborHex, [
      castPollShardParams({
        pollToken: fromSystemParamsAsset(params.pollToken),
        stakingToken: fromSystemParamsAsset(params.stakingToken),
        indyAsset: fromSystemParamsAsset(params.indyAsset),
        stakingValHash: params.stakingValHash,
      }),
    ]),
  };
};
